Домашнее задание к занятию «Резервное копирование баз данных»  SKOPKIN ILYA


Задание 1. Резервное копирование
Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.

Необходимо описать, какие варианты резервного копирования подходят в случаях:

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

Приведите ответ в свободной форме.

 - 1.1  В данном кейсе подойдёт дифференциальное копирование с созданием полной копии в конце или начале каждой рабочей недели.

 - 1.2   Самый оптимальный вариант это инкрементное резервное копирование т.к. оно будет занимать минимум места (относительно других типов резервного копирования)


Задание 2. PostgreSQL
2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

Приведите ответ в свободной форме.

 - 2.1 Для создания дампа 
   
    pg_dump -Fc bd_name > dump.sql  

   Для восстановления 

   pg_restore –d bd_name dump.sql  


Задание 3. MySQL
3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.

 - 3.1  Для создания инкреметной резервной копии - используется программа xtrabackup.

       Полный бэкап   

  xtrabackup --backup --user=root --password='**' --target-dir=/root/backupdb/full  


      Инкрементный бэкап

  xtrabackup --backup --target-dir=/root/backupdb/inc1 --incremental-basedir=/root/backupdb/full
